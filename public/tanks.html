<html>
    <head>
	    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	    <script type="text/javascript" src="lib/pageutils.js"></script>
	    <script type="text/javascript" src="lib/signalk.js"></script>
	    <script type="text/javascript" src="lib/FunctionFactory.js"></script>
	    <script type="text/javascript" src="lib/Widget.js"></script>
	    <script type="text/javascript" src="lib/script.js"></script>
	    <link rel="stylesheet" type="text/css" href="css/lcars.css">
        <title>Tank Levels</title>
        <style>
            html, body {
                background: black;
                height: 100%;
                min-height: 100%;
                overflow: hidden;
            }
        </style>
        <script>
            function init() {
                document.addEventListener("contextmenu", (e) => { contextHandler(e); e.preventDefault(); });
                window.event.cancelBubble = true;
                var signalk = new SignalK("192.168.1.1", 3000, FunctionFactory.getFilter, Widget.createWidget);
                var pageutils = new PageUtils({ "overlayOnLoad": function(r) { signalk.registerWidgets(r, Widget.createWidget); }});
                PageUtils.include(document);
                signalk.registerWidgets(document);
                signalk.subscribe();
            }
        </script>
    </head>
    <body onload="init();">
        <div style="display: table; table-layout: fixed; width: 100%; height: 98vh;">
            <div style="position:relative; display: table-cell;">
                <div class="widget" style="height: 100%;" 
                    data-source='{ "signalk": "tanks.fuel.3.currentLevel" }'
                    data-params='{ "type": "vgauge", "range": { "min": 0, "max": 100 }, "label": { "function": "percent,0,1" }, "cursor1": { "color": "white", "function": "percent,0,1" } }'>
                    FUEL PS ---%
                </div>
            </div>
            <div style="position:relative; display: table-cell;">
                <div class="widget" style="height: 100%;" 
                    data-source='{ "signalk": "tanks.fuel.4.currentLevel" }'
                    data-params='{ "type": "vgauge", "range": { "min": 0, "max": 100 }, "label": { "function": "percent,0,1" }, "cursor1": { "color": "red", "function": "percent,0,1" } }'>
                    FUEL SB ---%
                </div>
            </div>
            <div style="position:relative; display: table-cell;">
                <div class="widget" style="height: 100%;" 
                    data-source='{ "signalk": "tanks.freshWater.1.currentLevel" }'
                    data-params='{ "type": "vgauge", "range": { "min": 0, "max": 100 }, "label": { "function": "percent,0,1" }, "cursor1": { "color": "blue", "function": "percent,0,1" } }'>
                    WATER PS ---%
                </div>
            </div>
            <div style="position:relative; display: table-cell;">
                <div class="widget" style="height: 100%;" 
                    data-source='{ "signalk": "tanks.freshWater.2.currentLevel" }'
                    data-params='{ "type": "vgauge", "range": { "min": 0, "max": 100 }, "label": { "function": "percent,0,1" }, "cursor1": { "color": "blue", "function": "percent,0,1" } }'>
                    WATER SB ---%
                </div>
            </div>
            <div style="position:relative; display: table-cell;">
                <div class="widget" style="height: 100%;" 
                    data-source='{ "signalk": "tanks.wasteWater.0.currentLevel" }'
                    data-params='{ "type": "vgauge", "range": { "min": 0, "max": 100 }, "label": { "function": "percent,0,1" }, "cursor1": { "color": "grey", "function": "percent,0,1" } }'>
                    WASTE ---%
                </div>
            </div>
        </div>
    </body>
</html>
